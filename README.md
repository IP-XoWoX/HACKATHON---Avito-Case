# HACKATHON---Avito-Case

Этот проект представляет собой классификатор цвета товара по изображению. Проект разработан с целью увеличить надёжность поиска товаров по цвету.

## Содержание

- [Бизнес-контекст](#бизнес-контекст)
- [Описание кейса](#описание-кейса)
- [Формат входных данных](#формат-входных-данных)
- [Формат выходных данных](#формат-выходных-данных)
- [Установка](#установка)
- [Запуск](#запуск)
- [Использование](#использование)
- [Примеры](#примеры)


## Бизнес-контекст

На площадке Avito пользователи часто ищут товары по цвету. Если модель неправильно определяет цвет или пропускает товары нужного цвета, покупатели не смогут найти подходящие товары. 

## Описание кейса

Необходимо построить алгоритм, который по фотографии товара определяет его основной цвет из 18 возможных.

## Формат входных данных

Программа принимает на вход:

- CSV-файл с метаданными в виде абсолютного пути, содержащий:
  - Имя файла изображения,
  - Категорию товара на изображении.
- Папку, содержащую изображения в виде абсолютного пути;
- Абсолютный путь, по которому требуется разместить файл, содержащий результат работы программы.

Формат CSV-файла с метаданными:
```
id,category,target
11624739720,сумки,zelenyi
11967354953,сумки,chernyi
19026830493,сумки,belyi
```

## Формат выходных данных

В качестве выходных данных выступает CSV-файл `submission.csv`, содержащий:
- Имя файла изображения;
- Категорию товара на изображении;
- Оценку цвета товара.

Формат выходного файла:

```
id,category,predict_proba,predict_color
36490520922,столы,"{'розовый': 0.64, 'красный': 0.3, 'оранжевый': 0.06}",розовый
37619737558,столы,"{'разноцветный': 0.53, 'коричневый': 0.29, 'белый': 0.18}",разноцветный
37601169296,столы,"{'чёрный': 0.94, 'разноцветный': 0.03, 'коричневый': 0.03}",чёрный
26991200895,сумки,"{'разноцветный': 0.66, 'розовый': 0.18, 'бежевый': 0.17}",разноцветный
```

## Установка

Клонируйте репозиторий:
``` bash
git clone https://github.com/IP-XoWoX/HACKATHON---Avito-Case
```
Переход в дерикторию:
``` bash
cd Avito
```
Установите зависимости:
``` bash
pip install -r requirements.txt
```

## Запуск

Для запуска программы используйте команду:

`python avito.py <папка_с_фото> <метаданные> <путь_вывода>`

Где: 
- `<папка_с_фото>` — путь к папке с изображениями.
- `<метаданные>` - полный путь к CSV-файлу с метаданными
- `<путь_вывода>` - путь, по которому будет размещен CSV-файл `submission.csv`

Все это можно найти в закрепленном архиве `dataset_colors.zip`

## Использование

Программа принимает на вход CSV-файл с метаданными и изображения с товарами, а на выходе выдает CSV-файл с оценкой цвета в требуемом условием формате.

## Примеры

Пример входного файла `test_data.csv`:

```
id,category
36490520922,столы
37619737558,столы
37601169296,столы
```

Пример выходного файла `submission.csv`:

```
id,category,predict_proba,predict_color
36490520922,столы,"{'красный': 0.64, 'розовый': 0.3, 'оранжевый': 0.06}",красный
37619737558,столы,"{'разноцветный': 0.53, 'коричневый': 0.29, 'белый': 0.18}",разноцветный
37601169296,столы,"{'чёрный': 0.94, 'разноцветный': 0.03, 'коричневый': 0.03}",чёрный
```


